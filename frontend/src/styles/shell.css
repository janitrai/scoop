@layer components {
  .app-root {
    @apply flex min-h-screen flex-col pb-8 pt-6;
    padding-inline: clamp(14px, 3vw, 32px);
  }

  .app-root-viewer {
    @apply h-[100dvh] min-h-0 overflow-hidden bg-panel-900 pt-0 pb-0;
    --viewer-shell-gutter: 0.5rem;
    padding-inline: var(--viewer-shell-gutter);
  }

  .topbar {
    @apply mb-4 flex flex-wrap items-center justify-between gap-2.5 rounded-[14px] border border-panel-500 bg-panel-800/90 px-3 py-2.5 shadow-panel backdrop-blur-md;
  }

  .topbar-left {
    @apply flex min-w-0 flex-1 items-center;
  }

  .topbar-copy {
    @apply min-w-0;
  }

  .topbar-title {
    @apply m-0 truncate font-display tracking-[0.08em] text-panel-100;
    font-size: clamp(1rem, 2vw, 1.35rem);
  }

  .topbar-right {
    @apply flex w-auto max-w-full items-center justify-end;
  }

  .topbar-controls {
    @apply flex w-full items-center justify-end gap-2;
  }

  .lang-switcher {
    @apply shrink-0;
  }

  .lang-select-trigger {
    @apply h-10 min-w-[130px] border-panel-500 bg-panel-700 px-2.5 py-1.5 text-[0.8rem] text-panel-100;
  }

  .lang-select-label {
    @apply inline-flex items-center gap-1.5;
  }

  .lang-select-icon {
    @apply h-3.5 w-3.5 text-panel-400;
  }

  .lang-select-content {
    @apply font-mono text-[0.78rem];
  }

  .brand-select {
    @apply min-w-0 max-w-full;
  }

  .brand-select-trigger {
    @apply relative h-auto w-auto gap-1.5 whitespace-nowrap border-0 bg-transparent px-0 py-0 text-left shadow-none transition-colors duration-150;
  }

  .brand-select-trigger::before {
    content: "";
    @apply pointer-events-none absolute inset-y-[-0.5rem] inset-x-[-0.75rem] rounded-[10px] border border-transparent bg-transparent transition-colors duration-150;
  }

  .brand-select-trigger:hover::before,
  .brand-select-trigger[data-state="open"]::before {
    @apply border-panel-500 bg-panel-700/70;
  }

  .brand-select-trigger > svg,
  .brand-select-label {
    @apply relative z-[1];
  }

  .brand-select-trigger:focus-visible {
    @apply border-brand-500/60 ring-2 ring-brand-500/35;
  }

  .brand-select-trigger > svg {
    @apply ml-1 h-4 w-4 shrink-0 text-panel-400 opacity-85 transition duration-150;
  }

  .brand-select-trigger:hover > svg,
  .brand-select-trigger[data-state="open"] > svg {
    @apply text-panel-100 opacity-100;
  }

  .brand-select-label {
    @apply inline-flex min-w-0 items-center gap-2.5 whitespace-nowrap;
    line-height: 1;
  }

  .brand-select-prefix {
    @apply shrink-0 whitespace-nowrap font-display text-[clamp(1rem,2vw,1.35rem)] font-bold tracking-[0.08em] text-panel-100;
  }

  .brand-select-separator-wrap {
    @apply inline-flex h-[1em] w-[1em] shrink-0 items-center justify-center;
  }

  .brand-select-separator-dot {
    @apply block h-1.5 w-1.5 rounded-full bg-panel-400 transition-colors duration-150;
  }

  .brand-select-current {
    @apply whitespace-nowrap font-display text-[clamp(1rem,2vw,1.35rem)] font-normal tracking-[0.08em] text-panel-400 transition-colors duration-150;
  }

  .brand-select-trigger:hover .brand-select-separator-dot,
  .brand-select-trigger[data-state="open"] .brand-select-separator-dot {
    @apply bg-panel-100/70;
  }

  .brand-select-trigger:hover .brand-select-current,
  .brand-select-trigger[data-state="open"] .brand-select-current {
    @apply text-panel-100;
  }

  .collection-select-content {
    @apply font-mono text-[0.8rem];
  }

  .app-root-viewer .topbar {
    @apply mb-0 flex-nowrap rounded-none border-x-0 border-t-0 bg-panel-800 pt-2 pb-2 shadow-none backdrop-blur-none;
    margin-inline: calc(var(--viewer-shell-gutter) * -1);
    padding-inline: calc(0.75rem + var(--viewer-shell-gutter));
  }
}
